package DAO;

import Connection.ConnectionFactory;
import Modelo.Usuario;
import Modelo.Tatuador;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

public class TatuadorDAO {

    private Connection conexao;

    public TatuadorDAO() throws SQLException {
        this.conexao = ConnectionFactory.getConexao();
    }
<<<<<<< .mine
     public void adicionar(Tatuador tatuador){
        String sql = "insert into tatuador(tat_nome,tat_rua,tat_numero,tat_bairro,tat_cidade,tat_telefone) "
                + "values (?,?,?,?,?,?)";
=======
>>>>>>> .r13

<<<<<<< .mine
        try{
            PreparedStatement pstmt = conn.prepareStatement(sql);
            pstmt.setString(1, tatuador.getNome());
            pstmt.setString(2, tatuador.getRua());
            pstmt.setString(3, tatuador.getNumero());
            pstmt.setString(4, tatuador.getBairro());
            pstmt.setString(5, tatuador.getCidade());
            pstmt.setString(6, tatuador.getTelefone());
=======
    public void adiciona(Tatuador t) throws SQLException {
        String sql = "insert into tatuador (tat_nome,tat_telefone,tat_rua,"
                + "tat_numero,tat_bairro,tat_cidade) values (?,?,?,?,?,?)";
        PreparedStatement stmt = this.conexao.prepareStatement(sql);
        stmt.setString(1, t.getNome());
        stmt.setString(2, t.getTelefone());
        stmt.setString(3, t.getRua());
        stmt.setString(4, t.getNumero());
        stmt.setString(5, t.getBairro());
        stmt.setString(6, t.getCidade());
>>>>>>> .r13

        stmt.execute();
        stmt.close();

    }

<<<<<<< .mine
    public List<Tatuador> listar() throws SQLException {
		List<Tatuador> listaTatuador = new ArrayList<>();
		String sql = "select * from tatuador";
=======
    public List<Tatuador> getLista(String nome) throws SQLException {
        String sql = "select * from tatuador where tat_nome ilike ?";
        PreparedStatement pstmt = this.conexao.prepareStatement(sql);
        pstmt.setString(1, nome);
>>>>>>> .r13

        ResultSet rs = pstmt.executeQuery();
        List<Tatuador> tatuadores = new ArrayList<Tatuador>();
        while (rs.next()) {
            Tatuador t = new Tatuador();
            t.setNome(rs.getString("tat_nome"));
            t.setTelefone(rs.getString("tat_telefone"));
            t.setId(rs.getInt("tat_codigo"));
            t.setRua(rs.getString("tat_rua"));
            t.setNumero(rs.getString("tat_numero"));
            t.setBairro(rs.getString("tat_bairro"));
            t.setCidade(rs.getString("tat_cidade"));
            tatuadores.add(t);

<<<<<<< .mine
		while (rs.next()) {
			Tatuador tatuador = new Tatuador();

                        tatuador.setCodigo(rs.getInt("tat_codigo"));
                        tatuador.setNome(rs.getString("tat_nome"));
                        tatuador.setTelefone(rs.getString("tat_telefone"));
=======
        }
        rs.close();
        pstmt.close();
        return tatuadores;
>>>>>>> .r13
                        tatuador.setRua(rs.getString("tat_rua"));
                        tatuador.setNumero(rs.getString("tat_numero"));
                        tatuador.setBairro(rs.getString("tat_bairro"));
                        tatuador.setCidade(rs.getString("tat_cidade"));

    }

    public void remove(int id) throws SQLException {
        String sql = "delete from tatuador where tat_codigo=?";
        PreparedStatement stmt = this.conexao.prepareStatement(sql);
        stmt.setInt(1, id);
        stmt.execute();
        stmt.close();
    }

<<<<<<< .mine
        public void remover(Tatuador tatuador) throws SQLException{
		String sql = "delete from usuario where usu_login = ?" ;
                PreparedStatement pstmt = conn.prepareStatement(sql);
=======
    public void altera(Tatuador t) throws SQLException {
>>>>>>> .r13

<<<<<<< .mine
                pstmt.setInt(1, tatuador.getCodigo());

		pstmt.execute();
		pstmt.close();
	}
        /*
        public void alterar(TatuadorLucas tatuador) throws SQLException{
            String sql = "update usuario set usu_login=?, usu_senha=?, usu_permissao=? ";
            PreparedStatement pstmt = conn.prepareStatement(sql);

            pstmt.setString(1, usuario.getLogin());
            pstmt.setString(2, usuario.getSenha());
            pstmt.setInt(3, usuario.getPermissao());

            pstmt.execute();
            pstmt.close();
        }
=======
        String sql = "update tatuador set tat_nome = ?,tat_telefone = ?,tat_rua = ?,tat_numero=?,tat_bairro=?,"
                + "tat_cidade=? where tat_codigo = ?";
        PreparedStatement stmt = this.conexao.prepareStatement(sql);
        stmt.setString(1, t.getNome());
        stmt.setString(2, t.getTelefone());
        stmt.setString(3, t.getRua());
        stmt.setString(4, t.getNumero());
        stmt.setString(5, t.getBairro());
        stmt.setString(6, t.getCidade());
        stmt.setInt(7, t.getId());
        stmt.execute();
        stmt.close();
    }
>>>>>>> .r13
         * 
         */
}